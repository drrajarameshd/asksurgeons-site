<!-- _includes/footer.html -->
<footer role="contentinfo">
  <div class="container footer-inner footer">
    <div class="footer-grid">

      <!-- Doctors scroller (data-driven) -->
      <div>
        <h4>Our Specialists</h4>
        <div id="as-docs-scroller" tabindex="0" aria-label="Doctors list (scroll horizontally)">
          <div id="as-docs-track">
            {%- assign doctors = site.data.doctors -%}
            {%- for d in doctors -%}
            <div class="doc-card">
              <img loading="lazy"
                   src="{{ d.image | relative_url }}"
                   alt="{{ d.name }}"
                   onerror="this.src='{{ '/assets/images/site-images/doctor-placeholder.webp' | relative_url }}'">
              <div class="meta">
                <div class="name">{{ d.name }}</div>
                <div class="qual">{{ d.bio }}</div>
                <div class="dept">{{ d.speciality }}</div>
              </div>
            </div>
            {%- endfor -%}
            {%- for d in doctors -%}
            
             <div class="doc-card dark">
              <img loading="lazy"
                   src="{{ d.image | relative_url }}"
                   alt="{{ d.name }}"
                   onerror="this.src='{{ '/assets/images/site-images/doctor-placeholder.webp' | relative_url }}'">
              <div class="meta">
                <div class="name">{{ d.name }}</div>
                <div class="qual">{{ d.degree}}</div>
                <div class="dept">{{ d.speciality }}</div>
              </div>
            </div>
            {%- endfor -%}
          </div>
        </div>
      </div>

       <!-- Quick Links -->
      <div>
        <h4>Quick Links</h4>
        <a href="{{ '/' | relative_url }}">Home</a>
        <a href="{{ '/about/' | relative_url }}">About</a>
        <a href="{{ '/services/' | relative_url }}">Services</a>
        <a href="/blog.html">Blog</a>
        <a href="{{ '/doctors/' | relative_url }}">Doctors</a>
        <a href="https://asksurgeons.com/appointment">Book Appointment</a>
      </div>
      <!-- Contact -->
      <div>
        <h4>Contact</h4>
           <div class="muted">
                Phone (Primary): <a href="tel:+918062182411">+91 8062182411</a>
           </div>
           <div class="muted">
               Clinic Number: <a href="tel:+917989676770">+91 79896 76770</a>
           </div>

           <div class="muted">Email: <a href="mailto:asksurgeons@gmail.com">asksurgeons@gmail.com</a></div>
           <div class="muted">Address: Attapur, Hyderabad</div>
      </div>

     
    </div>

    <div class="muted" style="margin-top:14px;">© <span id="as-year">2025</span> AskSurgeons.com • Hyderabad</div>
  </div>

<script>
(function(){
  const scroller = document.getElementById('as-docs-scroller');
  const track    = document.getElementById('as-docs-track');
  const yearEl   = document.getElementById('as-year');
  if (yearEl) yearEl.textContent = new Date().getFullYear();
  if (!scroller || !track) return;

  const SPEED = 0.35;
  const RESPECT_REDUCED_MOTION = false;

  track.style.display = 'flex';
  track.style.flexWrap = 'nowrap';

  function ensureWidth() {
    if (track.scrollWidth <= scroller.clientWidth) {
      track.innerHTML = track.innerHTML + track.innerHTML;
    }
  }

  function onReady(fn){
    if (document.readyState === 'complete') fn();
    else window.addEventListener('load', fn, { once:true });
  }
  onReady(init);

  function init(){
    ensureWidth();
    let x = 0, rafId = null;
    const prefersReduced = matchMedia('(prefers-reduced-motion: reduce)').matches;
    const honorReduced = RESPECT_REDUCED_MOTION && prefersReduced;
    function halfWidth(){ return track.scrollWidth / 2; }
    function render(){ if (-x >= halfWidth()) x = 0; track.style.transform = `translate3d(${x}px,0,0)`; }
    function frame(){ x -= SPEED; render(); rafId = requestAnimationFrame(frame); }
    function start(){ if (!honorReduced){ cancelAnimationFrame(rafId); rafId = requestAnimationFrame(frame);} }
    function stop(){ cancelAnimationFrame(rafId); }
    start();

    let isDragging = false, startClientX = 0, startX = 0, resumeTimer = null;
    function onPointerDown(e){
      if (e.button !== undefined && e.button !== 0) return;
      isDragging = true; scroller.classList.add('dragging'); stop();
      startClientX = (e.clientX != null) ? e.clientX : (e.touches && e.touches[0].clientX);
      startX = x;
      if (scroller.setPointerCapture && e.pointerId !== undefined) scroller.setPointerCapture(e.pointerId);
      e.preventDefault();
    }
    function onPointerMove(e){
      if (!isDragging) return;
      const clientX = (e.clientX != null) ? e.clientX : (e.touches && e.touches[0].clientX);
      if (clientX == null) return;
      const delta = clientX - startClientX;
      x = startX + delta;
      const hw = halfWidth();
      if (-x >= hw) x += hw;
      if (x > 0) x -= hw;
      render(); e.preventDefault();
    }
    function onPointerUp(){
      if (!isDragging) return;
      isDragging = false; scroller.classList.remove('dragging');
      clearTimeout(resumeTimer); resumeTimer = setTimeout(start, 800);
    }

    if (window.PointerEvent){
      scroller.addEventListener('pointerdown', onPointerDown, {passive:false});
      window.addEventListener('pointermove',  onPointerMove,  {passive:false});
      window.addEventListener('pointerup',    onPointerUp,    {passive:true});
      window.addEventListener('pointercancel',onPointerUp,    {passive:true});
    } else {
      scroller.addEventListener('mousedown', onPointerDown);
      window.addEventListener('mousemove',   onPointerMove);
      window.addEventListener('mouseup',     onPointerUp);
      scroller.addEventListener('touchstart',onPointerDown,   {passive:false});
      window.addEventListener('touchmove',   onPointerMove,   {passive:false});
      window.addEventListener('touchend',    onPointerUp,     {passive:true});
      window.addEventListener('touchcancel', onPointerUp,     {passive:true});
    }

    scroller.addEventListener('mouseenter', stop);
    scroller.addEventListener('mouseleave', () => { if (!isDragging) start(); });
    document.addEventListener('visibilitychange', () => document.hidden ? stop() : (!isDragging && start()));
  }
})();
</script>
</footer>
